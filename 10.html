<!DOCTYPE html>
<html lang="en">
    <head>

        <meta charset="utf-8">
        <title>cit261</title>

        <!-- Mobile Specific Metas -->
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- FONT -->
        <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

        <!-- CSS -->
        <link rel="stylesheet" href="css.css">

        <!-- SCRIPTS -->
        <script type="text/javascript" src="js.js"></script>
    </head>
    <body onload="checkLocalStorage()">
        <header>
            <div>
                <nav>
                    <ul>
                        <li id="menuHome"><a href="index.html">:: home ::</a></li>
                        <li id="menu01"><a href="01.html">01</a></li>
                        <li id="menu02"><a href="02.html">02</a></li>
                        <li id="menu03"><a href="03.html">03</a></li>
                        <li id="menu04"><a href="04.html">04</a></li>
                        <li id="menu05"><a href="05.html">05</a></li>
                        <li id="menu06"><a href="06.html">06</a></li>
                        <li id="menu07"><a href="07.html">07</a></li>
                        <li id="menu08"><a href="08.html">08</a></li>
                        <li id="menu09"><a href="09.html">09</a></li>
                        <li id="menu10"><a href="10.html">10</a></li>
                        <li id="menu11"><a href="11.html">11</a></li>
                        <li id="menu12"><a href="12.html">12</a></li>
                        <li id="menu13"><a href="13.html">13</a></li>
                    </ul>
                </nav>
            </div>
        </header>
        <h1>10: HTML5 Tags - Video, Audio, and Canvas</h1>
        <div>
            <span><p>This game isn't mine, I found it on <a href="https://www.youtube.com/watch?v=xGmXxpIj6vs" target='_blank'>Gamkedo's</a> youtube channel.<br>
                    He made it from scratch in under 5 minutes.<br>
                It's pretty impressive.</p></span>
            <canvas id="gc" width="400" height="400"></canvas>
            <script>
                window.onload = function () {
                    canv = document.getElementById("gc");
                    ctx = canv.getContext("2d");
                    document.addEventListener("keydown", keyPush);
                    setInterval(game, 1500 / 15);
                }
                px = py = 10;
                gs = tc = 20;
                ax = ay = 15;
                xv = yv = 0;
                trail = [];
                tail = 5;
                function game() {
                    px += xv;
                    py += yv;
                    if (px < 0) {
                        px = tc - 1;
                    }
                    if (px > tc - 1) {
                        px = 0;
                    }
                    if (py < 0) {
                        py = tc - 1;
                    }
                    if (py > tc - 1) {
                        py = 0;
                    }
                    ctx.fillStyle = "black";
                    ctx.fillRect(0, 0, canv.width, canv.height);

                    ctx.fillStyle = "lime";
                    for (var i = 0; i < trail.length; i++) {
                        ctx.fillRect(trail[i].x * gs, trail[i].y * gs, gs - 2, gs - 2);
                        if (trail[i].x == px && trail[i].y == py) {
                            tail = 5;
                        }
                    }
                    trail.push({x: px, y: py});
                    while (trail.length > tail) {
                        trail.shift();
                    }

                    if (ax == px && ay == py) {
                        tail++;
                        ax = Math.floor(Math.random() * tc);
                        ay = Math.floor(Math.random() * tc);
                    }
                    ctx.fillStyle = "red";
                    ctx.fillRect(ax * gs, ay * gs, gs - 2, gs - 2);
                }
                function keyPush(evt) {
                    switch (evt.keyCode) {
                        case 37:
                            xv = -1;
                            yv = 0;
                            break;
                        case 38:
                            xv = 0;
                            yv = -1;
                            break;
                        case 39:
                            xv = 1;
                            yv = 0;
                            break;
                        case 40:
                            xv = 0;
                            yv = 1;
                            break;
                    }
                }
            </script>
        </div>





    </body>
</html>
